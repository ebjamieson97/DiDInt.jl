<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Functions · DiDInt.jl</title><meta name="title" content="Functions · DiDInt.jl"/><meta property="og:title" content="Functions · DiDInt.jl"/><meta property="twitter:title" content="Functions · DiDInt.jl"/><meta name="description" content="Documentation for DiDInt.jl."/><meta property="og:description" content="Documentation for DiDInt.jl."/><meta property="twitter:description" content="Documentation for DiDInt.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DiDInt.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Functions</a><ul class="internal"><li><a class="tocitem" href="#didint()-Estimate-ATT"><span><code>didint()</code> - Estimate ATT</span></a></li><li><a class="tocitem" href="#didint_plot()-Prepare-Data-for-Visualization"><span><code>didint_plot()</code> - Prepare Data for Visualization</span></a></li></ul></li><li><a class="tocitem" href="../details/">Details</a></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Functions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ebjamieson97/DiDInt.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ebjamieson97/DiDInt.jl/blob/main/docs/src/functions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h1><h2 id="didint()-Estimate-ATT"><a class="docs-heading-anchor" href="#didint()-Estimate-ATT"><code>didint()</code> - Estimate ATT</a><a id="didint()-Estimate-ATT-1"></a><a class="docs-heading-anchor-permalink" href="#didint()-Estimate-ATT" title="Permalink"></a></h2><p>The function <code>didint()</code> estimates the ATT while adjusting for covariates that may vary by state, time, or both.</p><article><details class="docstring" open="true"><summary id="DiDInt.didint"><a class="docstring-binding" href="#DiDInt.didint"><code>DiDInt.didint</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">didint(
       outcome::Union{AbstractString, Symbol},
       state::Union{AbstractString, Symbol},
       time::Union{AbstractString, Symbol},
       data::DataFrame;
       gvar::Union{AbstractString, Symbol, Nothing} = nothing,
       treated_states::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Number, Nothing} = nothing,
       treatment_times::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Number, Date, Nothing} = nothing,
       date_format::Union{AbstractString, Nothing} = nothing,
       covariates::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Symbol} = nothing,
       ccc::AbstractString = &quot;int&quot;,
       agg::AbstractString = &quot;cohort&quot;,
       weighting::AbstractString = &quot;both&quot;,
       ref::Union{Dict{&lt;:AbstractString, &lt;:AbstractString}, Nothing} = nothing,
       freq::Union{AbstractString, Nothing} = nothing,
       freq_multiplier::Number = 1,
       start_date::Union{AbstractString, Number, Date, Nothing} = nothing,
       end_date::Union{AbstractString, Number, Date, Nothing} = nothing,
       nperm::Number = 999,
       verbose::Bool = true,
       seed::Number = rand(1:1000000),
       use_pre_controls::Bool = false,
       notyet::Union{Nothing, Bool} = nothing,
       hc::Union{AbstractString, Number} = &quot;hc3&quot;
      )</code></pre><p>The <code>didint()</code> function estimates the average effect of treatment on the treated (ATT) while accounting for covariates that may vary by state, time, or by both state and time simultaneously.</p><p><strong>Details</strong></p><p>The arguments <code>treated_states</code> and <code>treated_times</code> should be entered such that the first element in <code>treated_states</code> refers to the state treated at the date entered as the first element in <code>treated_times</code>, the second element in <code>treated_states</code> refers to the state treated at the date entered as the second element in <code>treated_times</code>, and so on. </p><p><strong>Parameters</strong></p><p><strong>Required Parameters</strong></p><ul><li><code>outcome::Union{AbstractString, Symbol}</code>    Input the name of the column which identifies the outcome of interest.</li><li><code>state::Union{AbstractString, Symbol}</code>    Input the name of the column which identifies the state membership of the observation.</li><li><code>time::Union{AbstractString, Symbol}</code>   Input the name of the column which identifies the date of the observation.</li><li><code>data::DataFrame</code>   The DataFrame to be used for the analysis.</li></ul><p><strong>Treatment Specification</strong></p><ul><li><code>gvar::Union{AbstractString, Symbol, Nothing} = nothing</code>   Name of the column which indicates time of first treatment for each state.</li><li><code>treated_states::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Number, Nothing} = nothing</code>   A vector of strings (or a single string) noting the treated state(s).</li><li><code>treatment_times::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Number, Date, Nothing} = nothing</code>   A vector (or single entry) denoting the associated treatment times of the &#39;treated_states&#39;.</li></ul><p><strong>Model Specification</strong></p><ul><li><code>ccc::AbstractString = &quot;int&quot;</code>   Specify which version of DID-INT should be used.   Options are: <code>&quot;hom&quot;</code>, <code>&quot;time&quot;</code>, <code>&quot;state&quot;</code>, &quot;<code>add</code>&quot;, and <code>&quot;int&quot;</code>. </li><li><code>agg::AbstractString = &quot;cohort&quot;</code>    Enter the aggregation method as a string.   Options are: <code>&quot;cohort&quot;</code>, <code>&quot;simple&quot;</code>, <code>&quot;state&quot;</code>, <code>&quot;sgt&quot;</code>, <code>&quot;none&quot;</code>.</li><li><code>weighting::AbstractString = &quot;both&quot;</code>   Specify which weighting method should be used.   Options are: <code>&quot;both&quot;</code>, <code>&quot;att&quot;</code>, <code>&quot;diff&quot;</code>, or <code>&quot;none&quot;</code>.</li><li><code>covariates::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Symbol} = nothing</code>    A vector of covariates entered as either strings or symbols (or a single covariate string or symbol),   or, <code>nothing</code> (default).</li><li><code>notyet::Bool = false</code>   Determine if pre-treatment periods from treated states should be used as controls.</li><li><code>ref::Union{Dict{&lt;:AbstractString, &lt;:AbstractString}, Nothing} = nothing</code>   A dictionary specifying which category in a categorical variable should be used   as the reference (baseline) category.</li></ul><p><strong>Date Processing &amp; Period Grid Construction</strong></p><ul><li><code>date_format::Union{AbstractString, Nothing} = nothing</code>   Date format (e.g. &quot;yyyy&quot; or &quot;yyyy-mm-dd&quot;) to be used when parsing string dates from   the time column, or <code>start_date</code>, <code>end_date</code>, and <code>treatment_times</code> arguments.</li><li><code>freq::Union{AbstractString, Nothing} = nothing</code>   A string indicating the desired timeframe of a period for the analysis for staggered adoption scenarios.   Options are: <code>&quot;year&quot;</code>, <code>&quot;month&quot;</code>, <code>&quot;week&quot;</code>, <code>&quot;day&quot;</code>.</li><li><code>freq_multiplier::Number = 1</code>   An integer by which the &#39;freq&#39; argument should be multiplied in a staggered adoption scenario, e.g. if a two-year   period is desired, set <code>freq = &quot;year&quot;</code> and <code>freq_multiplier = 2</code>.</li><li><code>start_date::Union{AbstractString, Number, Date, Nothing} = nothing</code>   Any data prior this date is dropped, and serves as the starting date for the period   grid construction if activated.</li><li><code>end_date::Union{AbstractString, Number, Date, Nothing} = nothing</code>   Any data after this date is dropped, and serves as the end date for the period   grid construction if activated.</li></ul><p><strong>Inference</strong></p><ul><li><code>nperm::Number = 999</code>   The number of unique permutations (not including the initial assignment of treatment times)   to be considered when performing the randomization inference.</li><li><code>verbose::Bool = true</code>   A boolean option for displaying progress of the randomization procedure. </li><li><code>seed::Number = rand(1:1000000)</code>   An integer to set the random seed for the randomization inference procedure.</li><li><code>hc::Union{AbstractString, Number} = &quot;hc3&quot;</code>   Specify which heteroskedasticity-consistent covariance matrix estimator (HCCME) should be used.   Options are <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, and <code>4</code> (or <code>&quot;hc0&quot;</code>, <code>&quot;hc1&quot;</code>, <code>&quot;hc2&quot;</code>, <code>&quot;hc3&quot;</code>, <code>&quot;hc4&quot;</code>).</li></ul><p><strong>Returns</strong></p><p>A DataFrame of results including the estimate of the ATT as well as standard errors and p-values.</p><p><strong>Citations</strong></p><ul><li>Karim &amp; Webb (2025). &quot;Good Controls Gone Bad: Difference-in-Differences with Covariates&quot;. https://arxiv.org/abs/2412.14447</li><li>MacKinnon &amp; Webb (2020). &quot;Randomization inference for difference-in-differences with few treated clusters&quot;. https://doi.org/10.1016/j.jeconom.2020.04.024 </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ebjamieson97/DiDInt.jl/blob/6bb455fe8ca9d0b4f9165121344d4f0b1b845fd1/src/estimate_didint.jl#L1-L112">source</a></section></details></article><h2 id="didint_plot()-Prepare-Data-for-Visualization"><a class="docs-heading-anchor" href="#didint_plot()-Prepare-Data-for-Visualization"><code>didint_plot()</code> - Prepare Data for Visualization</a><a id="didint_plot()-Prepare-Data-for-Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#didint_plot()-Prepare-Data-for-Visualization" title="Permalink"></a></h2><p>The <code>didint_plot()</code> function produces a dataset in a long format that can easily be used for plotting parallel trends or event study plots.</p><article><details class="docstring" open="true"><summary id="DiDInt.didint_plot"><a class="docstring-binding" href="#DiDInt.didint_plot"><code>DiDInt.didint_plot</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">didint_plot(
            outcome::Union{AbstractString, Symbol},
            state::Union{AbstractString, Symbol},
            time::Union{AbstractString, Symbol},
            data::DataFrame;
            gvar::Union{AbstractString, Symbol, Nothing} = nothing,
            treated_states::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Number, Nothing} = nothing,
            treatment_times::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Number, Date, Nothing} = nothing,
            date_format::Union{AbstractString, Nothing} = nothing,
            covariates::Union{Vector{&lt;:AbstractString}, AbstractString, Nothing} = nothing,
            ref::Union{Dict{&lt;:AbstractString, &lt;:AbstractString}, Nothing} = nothing,
            ccc::Union{AbstractString, Vector{&lt;:AbstractString}} = &quot;all&quot;,
            event::Bool = false,
            weights::Bool = true,
            ci::Number = 0.95,
            freq::Union{AbstractString, Nothing} = nothing,
            freq_multiplier::Number = 1,
            start_date::Union{AbstractString, Number, Date, Nothing} = nothing,
            end_date::Union{AbstractString, Number, Date, Nothing} = nothing,
            hc::Union{AbstractString, Number} = &quot;hc3&quot;
           )</code></pre><p>The <code>didint_plot()</code> function produces a dataset in a long format that can easily be used for plotting parallel trends or event study plots.</p><p><strong>Details</strong></p><p>The arguments <code>treated_states</code> and <code>treated_times</code> should be entered such that the first element in <code>treated_states</code> refers to the state treated at the date entered as the first element in <code>treated_times</code>, the second element in <code>treated_states</code> refers to the state treated at the date entered as the second element in <code>treated_times</code>, and so on. </p><p><strong>Parameters</strong></p><p><strong>Required Parameters</strong></p><ul><li><code>outcome::Union{AbstractString, Symbol}</code>    Input the name of the column which identifies the outcome of interest.</li><li><code>state::Union{AbstractString, Symbol}</code>    Input the name of the column which identifies the state membership of the observation.</li><li><code>time::Union{AbstractString, Symbol}</code>   Input the name of the column which identifies the date of the observation.</li><li><code>data::DataFrame</code>   The DataFrame to be used for the analysis.</li></ul><p><strong>Treatment Specification</strong></p><ul><li><code>gvar::Union{AbstractString, Symbol, Nothing} = nothing</code>   Name of the column which indicates time of first treatment for each state.</li><li><code>treatment_times::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Number, Date, Nothing} = nothing</code>   A vector (or single entry) denoting the associated treatment times of the &#39;treated_states&#39;.</li></ul><p><strong>Model Specifications</strong></p><ul><li><code>ccc::Union{AbstractString, Vector{&lt;:AbstractString}} = &quot;all&quot;</code>   Specify which versions of DID-INT should be used.   Options are either <code>&quot;all&quot;</code>, or any combination of: <code>&quot;none&quot;</code>, <code>&quot;hom&quot;</code>, <code>&quot;time&quot;</code>, <code>&quot;state&quot;</code>, &quot;<code>add</code>&quot;, and <code>&quot;int&quot;</code>.</li><li><code>covariates::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Symbol} = nothing</code>    A vector of covariates entered as either strings or symbols (or a single covariate string or symbol),   or, <code>nothing</code> (default).</li><li><code>ref::Union{Dict{&lt;:AbstractString, &lt;:AbstractString}, Nothing} = nothing</code>   A dictionary specifying which category in a categorical variable should be used   as the reference (baseline) category.</li></ul><p><strong>Event Study Plot</strong></p><ul><li><code>event::Bool = false</code>  Specify if data should be prepared for an event study plot as opposed to a parallel trends plot.</li><li><code>weights::Bool = true</code>   Whether to use weighted means when computing event study estimates. If <code>true</code>, estimates are computed   as weighted averages of state-level means for each period relative to treatment; if <code>false</code>, uses simple unweighted averages.</li><li><code>treated_states::Union{T, Vector{T}} where T &lt;: Union{AbstractString, Number, Nothing} = nothing</code>   A vector of strings (or a single string) noting the treated state(s).</li><li><code>ci::Number = 0.95</code>   Define the size of confidence bands for the event study plot.</li><li><code>hc::Union{AbstractString, Number} = &quot;hc3&quot;</code>   Specify which heteroskedasticity-consistent covariance matrix estimator (HCCME) should be used.   Options are <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, and <code>4</code> (or <code>&quot;hc0&quot;</code>, <code>&quot;hc1&quot;</code>, <code>&quot;hc2&quot;</code>, <code>&quot;hc3&quot;</code>, <code>&quot;hc4&quot;</code>).</li></ul><p><strong>Date Processing &amp; Period Grid Construction</strong></p><ul><li><code>date_format::Union{AbstractString, Nothing} = nothing</code>   Date format (e.g. &quot;yyyy&quot; or &quot;yyyy-mm-dd&quot;) to be used when parsing string dates from   the time column, or <code>start_date</code>, <code>end_date</code>, and <code>treatment_times</code> arguments.</li><li><code>freq::Union{AbstractString, Nothing} = nothing</code>   A string indicating the desired timeframe of a period for the analysis for staggered adoption scenarios.   Options are: <code>&quot;year&quot;</code>, <code>&quot;month&quot;</code>, <code>&quot;week&quot;</code>, <code>&quot;day&quot;</code>.</li><li><code>freq_multiplier::Number = 1</code>   An integer by which the &#39;freq&#39; argument should be multiplied in a staggered adoption scenario, e.g. if a two-year   period is desired, set <code>freq = &quot;year&quot;</code> and <code>freq_multiplier = 2</code>.</li><li><code>start_date::Union{AbstractString, Number, Date, Nothing} = nothing</code>   Any data prior this date is dropped, and serves as the starting date for the period   grid construction if activated.</li><li><code>end_date::Union{AbstractString, Number, Date, Nothing} = nothing</code>   Any data after this date is dropped, and serves as the end date for the period   grid construction if activated.</li></ul><p><strong>Returns</strong></p><p>A DataFrame of means and means residualized by the specified covariates for each of the specified common causal covariates (CCC) violations by period for each state, or, a DataFrame of means of the treated states by periods before/after treatment (again, residualized by the specified covariates and for each of the specified CCC violations).</p><p><strong>Citations</strong></p><ul><li>Karim &amp; Webb (2025). &quot;Good Controls Gone Bad: Difference-in-Differences with Covariates&quot;. https://arxiv.org/abs/2412.14447</li><li>MacKinnon &amp; Webb (2020). &quot;Randomization inference for difference-in-differences with few treated clusters&quot;. https://doi.org/10.1016/j.jeconom.2020.04.024 </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ebjamieson97/DiDInt.jl/blob/6bb455fe8ca9d0b4f9165121344d4f0b1b845fd1/src/didint_plot.jl#L1-L102">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../details/">Details »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Sunday 23 November 2025 16:10">Sunday 23 November 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
